!function($){"use strict";var pluginName="ScrollIt",pluginVersion="1.0.3",defaults={upKey:38,downKey:40,easing:"linear",scrollTime:600,activeClass:"active",onPageChange:null,topOffset:0};$.scrollIt=function(options){var settings=$.extend(defaults,options),active=0,lastIndex=$("[data-scroll-index]:last").attr("data-scroll-index"),navigate=function(ndx){if(!(ndx<0||ndx>lastIndex)){var targetTop=$("[data-scroll-index="+ndx+"]").offset().top+settings.topOffset+1;$("html,body").animate({scrollTop:targetTop,easing:settings.easing},settings.scrollTime)}},doScroll=function(e){var target=$(e.target).closest("[data-scroll-nav]").attr("data-scroll-nav")||$(e.target).closest("[data-scroll-goto]").attr("data-scroll-goto");navigate(parseInt(target))},keyNavigation=function(e){var key=e.which;return!($("html,body").is(":animated")&&(key==settings.upKey||key==settings.downKey)||(key==settings.upKey&&active>0?(navigate(parseInt(active)-1),1):key==settings.downKey&&active<lastIndex&&(navigate(parseInt(active)+1),1)))},updateActive=function(ndx){settings.onPageChange&&ndx&&active!=ndx&&settings.onPageChange(ndx),active=ndx,$("[data-scroll-nav]").removeClass(settings.activeClass),$("[data-scroll-nav="+ndx+"]").addClass(settings.activeClass)},watchActive=function(){var winTop=$(window).scrollTop(),visible,newActive=$("[data-scroll-index]").filter((function(ndx,div){return winTop>=$(div).offset().top+settings.topOffset&&winTop<$(div).offset().top+settings.topOffset+$(div).outerHeight()})).first().attr("data-scroll-index");updateActive(newActive)};$(window).on("scroll",watchActive).scroll(),$(window).on("keydown",keyNavigation),$("body").on("click","[data-scroll-nav], [data-scroll-goto]",(function(e){e.preventDefault(),doScroll(e)}))}}(jQuery);